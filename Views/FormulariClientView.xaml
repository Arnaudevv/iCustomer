<UserControl x:Class="iCustomer.Views.FormulariClientView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Background="{StaticResource PrimaryDark}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Form content -->
        <ScrollViewer Grid.Row="0"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled">
            <Grid Margin="20">
                <StackPanel Orientation="Vertical" MaxWidth="600">

                    <TextBlock Text="Client Details"
                               Style="{StaticResource FormTitleStyle}"
                               HorizontalAlignment="Center"/>

                    <Border Height="2" Background="{StaticResource AccentBlue}" Margin="0,0,0,20"/>

                    <!-- ID -->
                    <Grid Margin="0,8" MinHeight="45">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="ID" Style="{StaticResource FormLabelStyle}"/>
                        <TextBox Grid.Column="1"
                                 Text="{Binding Id}"
                                 IsReadOnly="True"
                                 Margin="20,0,0,0"
                                 Style="{StaticResource FormTextBoxStyle}"/>
                    </Grid>

                    <!-- First Name -->
                    <StackPanel Margin="0,8">
                        <Grid MinHeight="45">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Name" Style="{StaticResource FormLabelStyle}"/>
                            <TextBox Grid.Column="1"
                                     Text="{Binding FirstName, UpdateSourceTrigger=PropertyChanged}"
                                     Margin="20,0,0,0"
                                     Style="{StaticResource FormTextBoxStyle}"/>
                        </Grid>
                        <TextBlock Text="{Binding FirstNameError}" Style="{StaticResource FieldErrorStyle}"/>
                    </StackPanel>

                    <!-- Last Name -->
                    <StackPanel Margin="0,8">
                        <Grid MinHeight="45">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Surname" Style="{StaticResource FormLabelStyle}"/>
                            <TextBox Grid.Column="1"
                                     Text="{Binding LastName, UpdateSourceTrigger=PropertyChanged}"
                                     Margin="20,0,0,0"
                                     Style="{StaticResource FormTextBoxStyle}"/>
                        </Grid>
                        <TextBlock Text="{Binding LastNameError}" Style="{StaticResource FieldErrorStyle}"/>
                    </StackPanel>

                    <!-- DNI -->
                    <StackPanel Margin="0,8">
                        <Grid MinHeight="45">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="DNI" Style="{StaticResource FormLabelStyle}"/>
                            <TextBox Grid.Column="1"
                                     Text="{Binding Dni, UpdateSourceTrigger=PropertyChanged}"
                                     Margin="20,0,0,0"
                                     Style="{StaticResource FormTextBoxStyle}"/>
                        </Grid>
                        <TextBlock Text="{Binding DniError}" Style="{StaticResource FieldErrorStyle}"/>
                    </StackPanel>

                    <!-- Email -->
                    <StackPanel Margin="0,8">
                        <Grid MinHeight="45">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Email" Style="{StaticResource FormLabelStyle}"/>
                            <TextBox Grid.Column="1"
                                     Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                                     Margin="20,0,0,0"
                                     Style="{StaticResource FormTextBoxStyle}"/>
                        </Grid>
                        <TextBlock Text="{Binding EmailError}" Style="{StaticResource FieldErrorStyle}"/>
                    </StackPanel>

                    <!-- Phone -->
                    <StackPanel Margin="0,8">
                        <Grid MinHeight="45">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Phone" Style="{StaticResource FormLabelStyle}"/>
                            <TextBox Grid.Column="1"
                                     Text="{Binding Phone, UpdateSourceTrigger=PropertyChanged}"
                                     Margin="20,0,0,0"
                                     Style="{StaticResource FormTextBoxStyle}"/>
                        </Grid>
                        <TextBlock Text="{Binding PhoneError}" Style="{StaticResource FieldErrorStyle}"/>
                    </StackPanel>

                    <!-- Registration Date -->
                    <Grid Margin="0,8" MinHeight="45">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Registration date" Style="{StaticResource FormLabelStyle}"/>
                        <DatePicker Grid.Column="1"
                                    SelectedDate="{Binding RegistrationDate}"
                                    Margin="20,0,0,0"
                                    Style="{StaticResource FormDatePickerStyle}"/>
                    </Grid>

                </StackPanel>
            </Grid>
        </ScrollViewer>

        <!-- Spacer -->
        <Grid Grid.Row="1"/>

        <!-- Action buttons -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Margin="20,12,20,20">
            <Button Command="{Binding SaveCommand}"
                    IsEnabled="{Binding IsFormValid}"
                    Style="{StaticResource PrimaryActionButtonStyle}"
                    ToolTip="Save changes">
                ✓ Save
            </Button>
            <Button Command="{Binding CancelCommand}"
                    Style="{StaticResource SecondaryActionButtonStyle}"
                    ToolTip="Cancel operation"
                    Margin="12,0,0,0">
                ✕ Cancel
            </Button>
        </StackPanel>
    </Grid>
</UserControl>
